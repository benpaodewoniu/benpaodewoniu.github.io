<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>犀牛的博客</title>
  
  <subtitle>姑苏城外一茅屋，万树梅花月满天</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://benpaodewoniu.github.io/"/>
  <updated>2024-09-17T14:56:27.074Z</updated>
  <id>http://benpaodewoniu.github.io/</id>
  
  <author>
    <name>犀牛</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ton | 使用 AI 创建游戏前端</title>
    <link href="http://benpaodewoniu.github.io/2024/09/12/ton1/"/>
    <id>http://benpaodewoniu.github.io/2024/09/12/ton1/</id>
    <published>2024-09-12T07:55:34.000Z</published>
    <updated>2024-09-17T14:56:27.074Z</updated>
    
    <content type="html"><![CDATA[<p>使用 <code>AI</code> 写游戏。</p><p>我使用的是 <code>claude3.5</code> 写的，下面记录了整个对话过程，希望对你有启发。</p><a id="more"></a><ul><li>我要做了一个H5的游戏，游戏名称叫做星际矿区。我的游戏设定如下，在星际大航海时代，人们驾驶着飞船寻找有价值的星球，目前找到的星球有THLM星球，永恒之塔星球，Lumi星球等。每一个星球都可以进行挖矿，挖出他们星球独有的。为了增加挖掘效率，他们可以在星际道具店购买一些增值性道具。道具可以凭借银币兑换。银币获得有几个途径，活动分发，签到和邀请。</li><li>看起来非常不错，不过，银币只能靠活动、邀请和签到获取，在星球上挖掘属于这个星球的特产。比如，THLM星球，挖的是THLM金属，在Lumi星球挖的是Lumi金属，在永恒之塔星球挖的是永恒金属</li><li>做的真不错，这是一款运行在手机上的游戏，麻烦做成手机游戏界面</li><li>真不错，我现在想设计一下游戏界面。首先游戏界面由几个部分组成，背景，上边栏，左边栏和右边栏。上边栏有着银币的图标，银币图标右边显示你拥有多少个银币。左边栏，从上到下分别是星球图标，道具商店图标，每日签到图标，邀请图标，右边栏从上到下分别是个人状态图标和仓库图标。</li><li>请给我完整的代码，虽然上面描述的是图标，但是，我们并没有UI，请用方框加方框中的文字代替。</li><li>功能确实按照我的想法实现了，麻烦再把界面设计的好看一些。另外，背景部分是全局的，请给我完整代码</li><li>我觉得提示用 alert 非常不友好，能使用游戏内的提示吗？要求，提示在出现两秒后，自动消失</li><li>请给我完整代码</li><li>能把左边栏和右边栏的图标排列的更紧凑一些吗</li><li>我想在左边栏的下面新增一个背景按钮，点击后，会介绍这个游戏的背景，背景内容如下：2049年，人类终于有了星际航海的能力。在无垠的宇宙中，人们发现了各种各样的星球，每种星球都蕴含独特的特产，矿产具备非常高的经济价值。你也可以对我的背景进行扩展。请给我完整的代码</li><li>非常不错，我现在要对两种道具设置功能，其中，效率提升器可以提升 1.5 倍的挖矿速度，持续 2 分钟。自动挖矿机可以自动挖掘选择的星球的矿产，持续 2 分钟，每 3 秒钟挖一次。</li><li>请给我完整的代码</li><li>做的非常不错，但是，我想把邀请再细化一些，点击邀请后，会出现一个弹窗，里面放着你的邀请链接，旁边有一个复制按钮，可以进行复制。另外，在右边栏增加一个邮箱图标，点击邮箱后，会出现一些信息，这些信息来自后端的推送，比如给该账户增加多少银币</li><li>我想对星球界面进行优化，点击星球后，界面应该只出现星球相关的按钮，不应该出现开始挖矿和道具相关的显示。当点击具体星球后，进入到具体星球内部，才会先开始挖矿和道具相关的显示</li><li>现在对道具商店进行界面优化，上面只展示道具，下面显示价格和买入数量和购买按钮</li><li>道具商店增加一个购买银币的选项，0.001个 TON 可以购买1000个银币</li><li>左边栏在道具商店下方增加一个冒险图标，点击图标后，进入新的界面，界面上面放着10个怪物，请随机给这是个怪物取名字，如果点击怪物后，会出现怪物的介绍，请帮我随机生成一些怪物介绍，每个怪物的特点不一样。另外，这个界面有一个开始冒险按钮。</li><li>给我完整的代码</li><li>继续生成</li><li>把冒险图标放在道具商店图标下面</li><li>每日签到图标、冒险图标，点了没反应</li><li>给我完整代码</li><li>继续生成</li><li>很不错，我现在相对冒险界面进行更改。一行排列3个怪物，并且，界面要有怪物图谱四个字，怪物图谱下面就是怪物。</li><li>个人状态去除现在的显示内容，增加状态值，比如力量、敏捷、体制。并且，道具商店按照分类的情况进行展示。道具目前有以下几个分类：挖矿道具、冒险道具、装备、银币。其中，挖矿道具包括：效率提升器和自动挖矿机，冒险道具包括回血丹、大力丸、急行符，装备包括衣服、鞋子、裤子、剑、头盔。银币就是现在的购买银币。并且，每一种道具点击后，都会有一个弹窗介绍该道具的作用，请自行填写之前没出现过的道具介绍，然后弹窗可以输入数量，还有购买按钮</li><li>在银币旁边增加一个金币的显示，显示样子仿照银币</li><li>优化一下整体显示、交互，给我完整代码</li><li>继续生成</li><li>能否把左边栏和右边栏的图标以相关的字符表情的形式替换</li><li>请给每一个怪物都随机分配力量、体制和速度属性</li><li>请给我完整代码吧</li><li>把怪物名称也换成字符图标吧</li><li>继续生成</li><li>很不错，不过，点开怪物后，怪物介绍界面应该出现该怪物的名字</li><li>继续生成</li><li>我刚才表述不清楚，不是在怪物图鉴界面显示名称，是点开怪物图标后，在怪物介绍页显示该怪物名称</li><li>左边栏最上面，增加一个任务图标，也用字符表情。点击任务图标后，会出现任务界面，任务界面的任务有几种人物分类，日常任务、必做任务、创世福利。每种任务的展现形式是，描述该任务的一段话，后面跟着 Go 按钮。请随机为该种任务分类创建几个任务</li><li>图标有点大，缩小一些</li><li>图标缩到30px</li><li>给我完整代码吧</li><li>继续生成</li><li>把星球和道具也变成字符图标吧。另外，星球界面点进去要显示该星球的名称，和这个星球的简单介绍，请随机为星球生成相应的介绍。</li><li>继续生成</li><li>怎么把道具分类给去掉了？加上道具分类，给我完整代码</li><li>继续生成</li><li>道具商店的银币怎么没有了？另外，在星球界面，把挖矿道具以字符图标的形式进行显示，并优化一下排列方式，在星球界面，点击某一个道具后，会出现一个弹窗，里面有道具的图标、名称、拥有的数量以及使用和关闭按钮，使用的按钮就是用这个道具，关闭的功能是关闭这个弹窗，给我完整代码</li><li>继续生成</li><li>继续</li><li>可探索的星球界面，里面的内容只显示星球图标，不显示星球名称</li><li>给我完整的css</li><li>把css中.planet的border-radius: 50%;去掉</li><li>很好，但是，我注意到任务中心中 Go 的按钮大小不一，这不好看，按钮的大小应该只比Go大一些，在所有任务行中，尺寸是固定的，根据这个来优化一下该界面的排列。</li><li>给我完整代码</li><li>继续</li><li>现在对冒险模式界面中的开始冒险按钮，做一些更新。点击开始冒险按钮后，会出现冒险界面。冒险界面从上到下由几个模块组成，冒险过程模块，状态模块，道具模块。其中，冒险过程记录着遭遇的怪物，每轮冒险共会遇到十次经历，每次经历会遇到十个怪物中的一种，或者好运，没遇到怪物。每个经历遭遇的事情完全随机。如果遇到怪物，那么双方会展开攻击，按照回合制的方式，敏捷高的一方先展开攻击。攻击的逻辑是，如果力量比对方的防御和体质加起来的数值还高，则攻击方获胜。如果力量和对方的防御和体质加起来的数值相等或者低，那么，则按照防御和体质都可以被力量减去，但是，如果对方防御值少了，那么，自身的力量也失去等量的值。体质减少则不会影响力量。每轮经历不允许中途再次使用冒险道具。只有经历完成，才允许使用冒险道具。当冒险道具使用完成后，可以主动点击下一个经历，然后进入下一个战斗场景。直到十次经历完成，或者自身体质为零，结束本次冒险。状态模块，主要显示你的力量、防御和体质，还有你所穿戴的装备。装备要用字符图标显示。道具界面，显示冒险道具，冒险道具以字符图标的形式进行显示，并优化一下排列方式，在冒险界面，点击某一个道具后，会出现一个弹窗，里面有道具的图标、名称、拥有的数量以及使用和关闭按钮，使用的按钮就是用这个道具，关闭的功能是关闭这个弹窗，在经历进行的过程中，冒险道具的图标应为不可用状态。给我完整代码。</li><li>给我全部的完整代码</li><li>继续生成</li><li>继续生成</li><li>我注意到在冒险界面，点了下一个经历后，就变灰了，不能再点了。一次冒险共有十次经历。</li><li><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">我注意到几个问题</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 道具全程显示灰色，无法点击。正确的逻辑是，经历结束后，可以点击道具</span><br><span class="line"><span class="number">2.</span> 和怪物战斗的过程中，自身的状态值没有变化。</span><br><span class="line"></span><br><span class="line">另外，增加几项优化点</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 冒险中吃的冒险道具不会影响本身的状态，只会影响冒险过程中的状态。</span><br><span class="line"><span class="number">2.</span> 本身的状态初始化的各个状态都是<span class="number">10</span>，可以穿戴装备进行提升，装备的数量可以叠加，比如，我购买了两把剑，那么，我的力量也会叠加两把剑的力量</span><br><span class="line"><span class="number">3.</span> 战斗过程中，根据敏捷值，敏捷值高的一方先发动攻击，后面每一次攻击都是对方攻击。比如A的敏捷值高于B，那么，攻击的回合应该是ABABAB，直到一方因为体质归零而结束战斗。</span><br><span class="line"><span class="number">4.</span> 冒险界面中，冒险模块的信息要出现怪物的数值，以及每次攻击后怪物的数值的变化。每一次经历中出现的怪物都是独立的。关于细化出现的信息，我举一个例子，第一次经历：遭遇某某怪物，怪物数值如下，***，第一回合：怪物发起攻击，冒险者防御下降多少，体质下降多少，怪物防御下降多少，体质下降多少，第二回合：***，根据我上面的描述，再优化一下表述。</span><br></pre></td></tr></table></figure></li><li>继续生成</li><li>继续生成</li><li><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">有很多可以优化的点</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 个人状态界面的装备道具不全，并且，如果道具有多个，需要显示道具数量</span><br><span class="line"><span class="number">2.</span> 装备道具的实际效果如下：衣服加<span class="number">5</span>防御，鞋子加<span class="number">5</span>敏捷，裤子加<span class="number">5</span>防御，剑加<span class="number">5</span>力量，头盔加<span class="number">5</span>防御</span><br><span class="line"><span class="number">3.</span> 增加新装备道具，饰品，作用是加<span class="number">5</span>体质</span><br><span class="line"><span class="number">4.</span> 冒险界面中下一个经历，在没有按之前文本显示“开始冒险”，点击开始冒险后，按钮文本显示变成“继续”</span><br><span class="line"><span class="number">5.</span> 大力丸的作用是增加<span class="number">10</span>点力量，疾行符的作用是增加<span class="number">10</span>点敏捷。冒险道具的属性增加只是暂时性的，冒险结束后，冒险道具的增益就结束了</span><br></pre></td></tr></table></figure></li><li>继续生成</li><li>继续生成</li><li>个人状态界面的装备道具为啥是英文显示，直接用装备道具名显示。另外，道具后面的数量错了，买多少都显示 0 个</li><li>继续生成</li><li>继续生成</li><li>我装备了12个剑，最后力量显示只有25，如果最初力量是10，每把剑提供5点力量，那么，我装备了12把应该显示70点力量。查一下其它装备道具有没有这个问题，并改成正确的逻辑。</li><li>我发现在冒险过程中吃的冒险道具会影响个人状态。关于状态修改如下，当别人离开冒险界面后，个人状态的计算是初始各属性的10点加上装备属性的加持。另外，大力丸的作用是一次性增加10点力量，疾行符是一次性增加10点敏捷。</li><li>冒险过程的逻辑有一点不对，如果你有防御力，那么别人首先会攻击你的防御，并且，防御被剪后是不能恢复的。比如，你的体质是10，防御是5，怪物有10点力量。怪物攻击你后，你的体质变为5，防御变为0。</li><li>非常好，我现在要增加一些冒险过程中的体验。如果在冒险过程结束，会出现一个弹窗，如果打败了所有怪物，完成十轮经历，则说恭喜你，获得10枚金币，同时，金币的数量增加10枚，如果被怪物击败，则弹窗显示，在冒险过程中不幸被击败！</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用 &lt;code&gt;AI&lt;/code&gt; 写游戏。&lt;/p&gt;
&lt;p&gt;我使用的是 &lt;code&gt;claude3.5&lt;/code&gt; 写的，下面记录了整个对话过程，希望对你有启发。&lt;/p&gt;
    
    </summary>
    
      <category term="区块链" scheme="http://benpaodewoniu.github.io/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
      <category term="平台 &amp;&amp; 公链 &amp;&amp; 项目 &amp;&amp; 方向" scheme="http://benpaodewoniu.github.io/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%B9%B3%E5%8F%B0-%E5%85%AC%E9%93%BE-%E9%A1%B9%E7%9B%AE-%E6%96%B9%E5%90%91/"/>
    
      <category term="ton" scheme="http://benpaodewoniu.github.io/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%B9%B3%E5%8F%B0-%E5%85%AC%E9%93%BE-%E9%A1%B9%E7%9B%AE-%E6%96%B9%E5%90%91/ton/"/>
    
      <category term="应用" scheme="http://benpaodewoniu.github.io/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%B9%B3%E5%8F%B0-%E5%85%AC%E9%93%BE-%E9%A1%B9%E7%9B%AE-%E6%96%B9%E5%90%91/ton/%E5%BA%94%E7%94%A8/"/>
    
      <category term="星际挖矿" scheme="http://benpaodewoniu.github.io/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/%E5%B9%B3%E5%8F%B0-%E5%85%AC%E9%93%BE-%E9%A1%B9%E7%9B%AE-%E6%96%B9%E5%90%91/ton/%E5%BA%94%E7%94%A8/%E6%98%9F%E9%99%85%E6%8C%96%E7%9F%BF/"/>
    
    
      <category term="ton" scheme="http://benpaodewoniu.github.io/tags/ton/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | Elementor Template Kits</title>
    <link href="http://benpaodewoniu.github.io/2024/09/11/wordpress30/"/>
    <id>http://benpaodewoniu.github.io/2024/09/11/wordpress30/</id>
    <published>2024-09-11T15:57:13.000Z</published>
    <updated>2024-09-11T16:31:40.077Z</updated>
    
    <content type="html"><![CDATA[<p><code>Elementor Template Kits</code> 是用 <code>elementor</code> 制作的主题，这里说一下整个过程。</p><p>这里主要是电商。</p><p>整个过程是对</p><ul><li><a href="https://help.market.envato.com/hc/en-us/articles/36033428836889-How-to-Upload-Install-Elementor-Template-Kits-from-Themeforest-to-WordPress">How-to-Upload-Install-Elementor-Template-Kits-from-Themeforest-to-WordPress</a></li></ul><p>的中文翻译和实操过程的理解。</p><a id="more"></a><p>在安装之前，默认你已经搞定 wordpress 了，可以参考</p><ul><li><a href="/2024/02/28/wordpress3/">wordpress | wordpress 搭建(包含多站点)</a></li></ul><h2 id="设置固定链接"><a href="#设置固定链接" class="headerlink" title="设置固定链接"></a>设置固定链接</h2><p><img src="/images/wordpress/30_0.png" alt=""></p><p>一定要是图中这么设置。</p><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><ul><li>elementor</li><li>elementor pro</li><li>Envato Elements -  Photos &amp; Elementor Templates</li><li>woocommerce</li></ul><p><img src="/images/wordpress/30_1.png" alt=""></p><p>并且激活。</p><h2 id="主题"><a href="#主题" class="headerlink" title="主题"></a>主题</h2><ul><li>安装 <code>hello elementor</code></li></ul><p><img src="/images/wordpress/30_2.png" alt=""></p><h2 id="elementor-设置"><a href="#elementor-设置" class="headerlink" title="elementor 设置"></a>elementor 设置</h2><p>点击 <code>elementor -&gt; setting</code> 选择 「特征」。</p><p><img src="/images/wordpress/30_3.png" alt=""></p><h2 id="Elements-设置"><a href="#Elements-设置" class="headerlink" title="Elements 设置"></a>Elements 设置</h2><p><img src="/images/wordpress/30_4.png" alt=""></p><p>图中要全部都是绿色。</p><h2 id="导入-kits"><a href="#导入-kits" class="headerlink" title="导入 kits"></a>导入 kits</h2><p><img src="/images/wordpress/30_5.png" alt=""></p><p>点击绿框，上传 <code>kits</code>。图中我已经安装了一个主题。</p><p>如果上面有橙色弹窗，说明这个主题有其他的依赖没完成，按照橙色提示进行安装即可。</p><p><img src="/images/wordpress/30_9.png" alt=""></p><h2 id="主题设置"><a href="#主题设置" class="headerlink" title="主题设置"></a>主题设置</h2><p><img src="/images/wordpress/30_6.png" alt=""></p><p><code>kits</code> 成功安装后，我们点进主题里面。</p><p>第一个叫做 <code>global kit style</code>,这是导入该 <code>kit</code> 的各种配置，这个要第一个导入。</p><p>图中是我导入之后的，正常来说每个元素下面都有一个 <code>import</code>按钮，导入完 <code>global kit style</code> 之后，其它的依次导入即可。</p><p>主题导入进去后，并没有生成页面，你点击所有页面里看，可能有页面，但是，那是 <code>hello elementor</code> 主题的页面。</p><h2 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h2><p>kits 导入的其实是模板。</p><p><img src="images/wordpress/30_7.png" alt=""></p><h2 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h2><p>模板怎么用呢？我们创建页面后，通过导入模板来进行使用。</p><p>新建页面，使用 <code>elementor</code> 编辑后，点击文件夹选项。</p><p><img src="images/wordpress/30_8.png" alt=""></p><p>选择要导入的模板即可。</p><h2 id="页面设置"><a href="#页面设置" class="headerlink" title="页面设置"></a>页面设置</h2><p>有的 <code>kits</code> 中含有 <code>elementor</code> 创建的 <code>header</code> 和 <code>footer</code> 等，我们要进行应用。</p><p>首先，对页面要进行设置。</p><p><img src="/images/wordpress/30_10.png" alt=""></p><p>点击小齿轮，进入页面设置，要设置「<code>elementor 全宽</code>」。</p><p>然后对 <code>footer</code> 等模板进行设置。</p><p><img src="/images/wordpress/30_11.png" alt=""></p><p>选择 Theme Builder，进行显示设置。</p><p><img src="/images/wordpress/30_12.png" alt=""></p><p>选择条件，并选择应用到全部页面。</p><h2 id="设置主页"><a href="#设置主页" class="headerlink" title="设置主页"></a>设置主页</h2><p>将制作的 <code>home</code> 页面发布，然后在自定义主页中，选择该页面。</p><h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><p>有的时候，页面中某些内容是自动生成的，比如 <code>woocommerce</code> 的内容。</p><p><img src="/images/wordpress/30_13.png" alt=""></p><p>这里出现的是打折后的产品，所以，需要你添加产品才会出现。</p><p><img src="/images/wordpress/30_14.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Elementor Template Kits&lt;/code&gt; 是用 &lt;code&gt;elementor&lt;/code&gt; 制作的主题，这里说一下整个过程。&lt;/p&gt;
&lt;p&gt;这里主要是电商。&lt;/p&gt;
&lt;p&gt;整个过程是对&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://help.market.envato.com/hc/en-us/articles/36033428836889-How-to-Upload-Install-Elementor-Template-Kits-from-Themeforest-to-WordPress&quot;&gt;How-to-Upload-Install-Elementor-Template-Kits-from-Themeforest-to-WordPress&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;的中文翻译和实操过程的理解。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="elementor" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/elementor/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>flask | 如何将字典中的数据按照顺序发送给前端</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/flask1/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/flask1/</id>
    <published>2024-09-08T05:25:57.000Z</published>
    <updated>2024-09-08T06:02:13.405Z</updated>
    
    <content type="html"><![CDATA[<p><code>python</code> 中的字典是有顺序的，但是，<code>map</code> 变为 <code>json</code> 发送给前端，那么 <code>json</code> 是无序的。</p><a id="more"></a><p>网上有很多方法，比如 <code>OrderedDict</code> 来构造 <code>json</code> 啥的，最后试了都不行，最终的方案是这样的。</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  '法国斗牛犬百科_<span class="number">2444</span>': &#123;</span><br><span class="line">    '序言_<span class="number">2445</span>': [ '关于我们_<span class="number">2446</span>' ],</span><br><span class="line">    '演变_<span class="number">2447</span>': [ '法斗历史_<span class="number">2448</span>' ],</span><br><span class="line">    '样貌_<span class="number">2449</span>': [ '品种_<span class="number">2454</span>', '四肢_<span class="number">2450</span>', '尾巴_<span class="number">2451</span>', '身型_<span class="number">2452</span>', '五官_<span class="number">2453</span>' ],</span><br><span class="line">    '健康_<span class="number">2460</span>': [],</span><br><span class="line">    '训练_<span class="number">2461</span>': []</span><br><span class="line">  &#125;,</span><br><span class="line">  '博美_<span class="number">2519</span>': &#123; '博美1_<span class="number">2520</span>': [ '博美文章1_<span class="number">2521</span>' ], '博美2_<span class="number">2522</span>': [] &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>变成</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'法国斗牛犬百科_2444</span>',</span><br><span class="line">    <span class="symbol">'value</span><span class="symbol">':</span> [</span><br><span class="line">      &#123;<span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'序言_2445</span>', <span class="symbol">'value</span><span class="symbol">':</span> [<span class="symbol">'关于我们_2446</span>']&#125;, &#123;<span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'演变_2447</span>', <span class="symbol">'value</span><span class="symbol">':</span> [<span class="symbol">'法斗历史_2448</span>']&#125;, &#123;</span><br><span class="line">        <span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'样貌_2449</span>',</span><br><span class="line">        <span class="symbol">'value</span><span class="symbol">':</span> [<span class="symbol">'品种_2454</span>', <span class="symbol">'四肢_2450</span>', <span class="symbol">'尾巴_2451</span>', <span class="symbol">'身型_2452</span>', <span class="symbol">'五官_2453</span>']</span><br><span class="line">      &#125;, &#123;<span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'健康_2460</span>', <span class="symbol">'value</span><span class="symbol">':</span> []&#125;, &#123;<span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'训练_2461</span>', <span class="symbol">'value</span><span class="symbol">':</span> []&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'博美_2519</span>', <span class="symbol">'value</span><span class="symbol">':</span> [</span><br><span class="line">      &#123;<span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'博美1_2520</span>', <span class="symbol">'value</span><span class="symbol">':</span> [<span class="symbol">'博美文章1_2521</span>']&#125;, &#123;<span class="symbol">'key</span><span class="symbol">':</span> <span class="symbol">'博美2_2522</span>', <span class="symbol">'value</span><span class="symbol">':</span> []&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>python 的代码是</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">transform_dict</span><span class="params">(input_dict)</span>:</span></span><br><span class="line">    <span class="comment"># 检查输入是否为字典</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(input_dict, dict):</span><br><span class="line">        <span class="comment"># 创建一个空列表来存储转换后的键值对</span></span><br><span class="line">        transformed = []</span><br><span class="line">        <span class="comment"># 遍历字典中的每个键值对</span></span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> input_dict.items():</span><br><span class="line">            <span class="comment"># 递归调用transform_dict来处理值，这样可以处理嵌套的字典</span></span><br><span class="line">            transformed_value = transform_dict(value)</span><br><span class="line">            <span class="comment"># 将当前的键和转换后的值添加到结果列表中</span></span><br><span class="line">            transformed.append(&#123;</span><br><span class="line">                <span class="string">"key"</span>: key,</span><br><span class="line">                <span class="string">"value"</span>: transformed_value</span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="comment"># 如果结果列表只有一个元素，直接返回该元素，否则返回整个列表</span></span><br><span class="line">        <span class="keyword">return</span> transformed[<span class="number">0</span>] <span class="keyword">if</span> len(transformed) == <span class="number">1</span> <span class="keyword">else</span> transformed</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 如果输入不是字典，直接返回原始输入</span></span><br><span class="line">        <span class="keyword">return</span> input_dict</span><br></pre></td></tr></table></figure><p>js 的解析代码是</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> transformArrayToObject(inputArray) &#123;</span><br><span class="line">  <span class="keyword">let</span> result = &#123;&#125;;</span><br><span class="line">  inputArray.forEach(<span class="type">item</span> =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (typeof <span class="type">item</span> === <span class="string">'object'</span> &amp;&amp; <span class="type">item</span> !== null &amp;&amp; <span class="string">'key'</span> <span class="keyword">in</span> <span class="type">item</span> &amp;&amp; <span class="string">'value'</span> <span class="keyword">in</span> <span class="type">item</span>) &#123;</span><br><span class="line">      // 检查<span class="keyword">value</span>是否为数组</span><br><span class="line">      <span class="keyword">if</span> (Array.isArray(<span class="type">item</span>.<span class="keyword">value</span>)) &#123;</span><br><span class="line">        // 如果数组中的第一个元素是对象，则递归处理</span><br><span class="line">        <span class="keyword">if</span> (<span class="type">item</span>.<span class="keyword">value</span>.length &gt; <span class="number">0</span> &amp;&amp; typeof <span class="type">item</span>.<span class="keyword">value</span>[<span class="number">0</span>] === <span class="string">'object'</span>) &#123;</span><br><span class="line">          result[<span class="type">item</span><span class="built_in">.key</span>] = transformArrayToObject(<span class="type">item</span>.<span class="keyword">value</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          // 否则直接将数组赋<span class="built_in">给key</span></span><br><span class="line">          result[<span class="type">item</span><span class="built_in">.key</span>] = <span class="type">item</span>.<span class="keyword">value</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        // 如果<span class="keyword">value</span>不是数组，直接赋值</span><br><span class="line">        result[<span class="type">item</span><span class="built_in">.key</span>] = <span class="type">item</span>.<span class="keyword">value</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面的代码都是用 <code>cloud</code> 写的，所以，如果你有其它结构，直接问就行，方案按照我这个方案即可。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;python&lt;/code&gt; 中的字典是有顺序的，但是，&lt;code&gt;map&lt;/code&gt; 变为 &lt;code&gt;json&lt;/code&gt; 发送给前端，那么 &lt;code&gt;json&lt;/code&gt; 是无序的。&lt;/p&gt;
    
    </summary>
    
      <category term="python" scheme="http://benpaodewoniu.github.io/categories/python/"/>
    
      <category term="框架" scheme="http://benpaodewoniu.github.io/categories/python/%E6%A1%86%E6%9E%B6/"/>
    
      <category term="flask" scheme="http://benpaodewoniu.github.io/categories/python/%E6%A1%86%E6%9E%B6/flask/"/>
    
    
      <category term="flask" scheme="http://benpaodewoniu.github.io/tags/flask/"/>
    
  </entry>
  
  <entry>
    <title>happydogs | 后端</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/happydogs3/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/happydogs3/</id>
    <published>2024-09-08T05:23:36.000Z</published>
    <updated>2024-09-08T05:25:16.537Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="大型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/"/>
    
      <category term="happydogs" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/"/>
    
      <category term="后端" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/%E5%90%8E%E7%AB%AF/"/>
    
    
      <category term="tomoon" scheme="http://benpaodewoniu.github.io/tags/tomoon/"/>
    
  </entry>
  
  <entry>
    <title>happydogs | 页面</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/happydogs2/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/happydogs2/</id>
    <published>2024-09-08T05:23:34.000Z</published>
    <updated>2024-09-08T05:25:21.505Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="大型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/"/>
    
      <category term="happydogs" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/"/>
    
      <category term="前端" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="tomoon" scheme="http://benpaodewoniu.github.io/tags/tomoon/"/>
    
  </entry>
  
  <entry>
    <title>happydogs | wordpress</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/happydogs1/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/happydogs1/</id>
    <published>2024-09-08T05:23:31.000Z</published>
    <updated>2024-09-08T05:24:14.914Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="大型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/"/>
    
      <category term="happydogs" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/"/>
    
      <category term="wordpress" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/wordpress/"/>
    
    
      <category term="tomoon" scheme="http://benpaodewoniu.github.io/tags/tomoon/"/>
    
  </entry>
  
  <entry>
    <title>happydogs | 快乐小狗项目</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/happydogs0/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/happydogs0/</id>
    <published>2024-09-08T05:22:34.000Z</published>
    <updated>2024-09-08T05:42:40.184Z</updated>
    
    <content type="html"><![CDATA[<p>我个人认为宠物市场一定是</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;我个人认为宠物市场一定是&lt;/p&gt;

      
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="大型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/"/>
    
      <category term="happydogs" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/"/>
    
      <category term="基础" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E5%A4%A7%E5%9E%8B/happydogs/%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="tomoon" scheme="http://benpaodewoniu.github.io/tags/tomoon/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | 电脑和手机不同程度显示</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress29/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress29/</id>
    <published>2024-09-08T03:56:18.000Z</published>
    <updated>2024-09-08T05:20:27.886Z</updated>
    
    <content type="html"><![CDATA[<p>如果我们想要电脑和手机进行不一样的显示。</p><a id="more"></a><p>以图片排列为案例。</p><p><img src="/images/wordpress/29_0.png" alt=""></p><p>在桌面这是弹性盒子布局，然后一列 6 个。</p><p>上面绿色框中，我们可以选择平台。</p><p>选择，「手机」。</p><p><img src="/images/wordpress/29_1.png" alt=""></p><p>点击图片的容器，然后设置宽度，就能在手机端定义样子了。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如果我们想要电脑和手机进行不一样的显示。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="elementor" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/elementor/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | 找到控件</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress28/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress28/</id>
    <published>2024-09-08T03:56:14.000Z</published>
    <updated>2024-09-08T04:05:53.823Z</updated>
    
    <content type="html"><![CDATA[<p>这个属于一个比较简单的。</p><a id="more"></a><p>我们在添加完容器或者其他的时候，发现左边的控件图标变成了某一个控件的样式，如果，我们想添加额外的控件呢？</p><p><img src="/images/wordpress/28_0.png" alt=""></p><p>点击左上角的 「+」号。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这个属于一个比较简单的。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="elementor" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/elementor/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | 对布局的调整</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress27/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress27/</id>
    <published>2024-09-08T03:49:50.000Z</published>
    <updated>2024-09-08T04:01:10.121Z</updated>
    
    <content type="html"><![CDATA[<p>如果只是添加布局的话，你只能看到几个特定的样式「以弹性盒子为例子」。</p><a id="more"></a><p><img src="/images/wordpress/27_0.png" alt=""></p><p>我们选择那 4 列模式。</p><p>选择内部容器，进行右键然后选择「添加同层容器」，就能添加了，具体样子可以自己调整。</p><p><img src="/images/wordpress/27_1.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;如果只是添加布局的话，你只能看到几个特定的样式「以弹性盒子为例子」。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="elementor" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/elementor/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | 简介</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress26/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress26/</id>
    <published>2024-09-08T03:49:48.000Z</published>
    <updated>2024-09-08T03:55:01.279Z</updated>
    
    <content type="html"><![CDATA[<p><code>elementor</code> 专注于网站的页面设计，提供拖拉拽的效果。</p><a id="more"></a><p><img src="/images/wordpress/26_0.png" alt=""></p><p>可以理解为通过低代码平台绘制网页，整体体验下来还可以。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;elementor&lt;/code&gt; 专注于网站的页面设计，提供拖拉拽的效果。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="elementor" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/elementor/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | Elementor Pro版本</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress25/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress25/</id>
    <published>2024-09-08T03:19:07.000Z</published>
    <updated>2024-09-08T03:50:15.581Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">密码等级 0 ！！！</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="fe7e292b24d8d1f223e52dda5e5542f7040f99c47cf7dd7c9b078deb26ca4ce8">bddadc8de3a38281e08814117996b5e3b39b80e272ead6176a4ddcf42b45cdebad38584b1603a9d9457ed411243d14626feb359d22aa3837ca40bb6a01b074f6eec3a111a1e22f7d5cc8f90e6de7ffbfc7a81039d39c6abcfacf9d74eb3f89cc9a55c7296f2c75d3de50ce5356c1f37280121ad4d33b25bd84c2fbbe4365a0d86ecf738eea35e7c816f7d5ad26bf4ae6330f20763a5b77a922a5a9ffedf0276e6025c4521f804b218a507628b8bfb41c8742cd48d6085f794f4b22d10dd2b833323faf1c1cfac009306673441fc51d6aa8364a2e4274e5d7c56dda7ba40f2305c5275110d47d1c2d98337fc8d806bf57bb7e8288b8a2c8892f1498b551cb4cb949a823526689a3fe69abc3326440ddf53caeee5e4bff14391bb0a0e30ec83ce0ae3d1ac4c8eb0a8d2a4b1508f2158727185608c768b836642b92de6b32de27fce8b9ec34d63ebd28a311a25190a2ed19c0863f0ae5e64eca4e3b02aa60f10864a4508db1cdf953d7e3e0557a35d62d493a041a81c10268a2fa4cc7438f14fe57f86d4ee5239721724636ceceb2034750b32a48a05885e22578e5f7c40a1fa9b7bdc7ca58ce93ee2a537adfd1c9c98a1a227cabc103dc797b314b2e39ae31b9fb9ef685dfa62acfddc14abd7a5a8332a0d18748ad5b258bc86c16bc5e4391a0e44ca3f8947f0b7c335648243b3ec4588a0ca689322522e7840effb502ad3c4ccd</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      密码等级 0
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="elementor" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/elementor/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | Astra 的简介</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress24/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress24/</id>
    <published>2024-09-08T03:19:02.000Z</published>
    <updated>2024-09-08T03:46:29.902Z</updated>
    
    <content type="html"><![CDATA[<p><code>Astra</code> 相对于其他主题，其在页面的划分上有很多控件可以自定义。</p><a id="more"></a><p><img src="/images/wordpress/24_0.png" alt=""></p><p>自定义通常会自定义很多东西，比如，全局性的、页眉、页脚等。</p><p><img src="/images/wordpress/24_1.png" alt=""></p><p>相对于其它主题，通过 <code>astra</code> 可以更简单的对控件进行设置。astra 专注于布局、页眉、页脚、侧边栏这种全局性的显示，不会对具体的页面内容进行设计。</p><p>打开 <code>astra</code>，可以在页面的「自定义」也可以在后台找「自定义」。</p><p><img src="/images/wordpress/24_2.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Astra&lt;/code&gt; 相对于其他主题，其在页面的划分上有很多控件可以自定义。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="Astra" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/Astra/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>wordpress | Astra的 pro 版本</title>
    <link href="http://benpaodewoniu.github.io/2024/09/08/wordpress23/"/>
    <id>http://benpaodewoniu.github.io/2024/09/08/wordpress23/</id>
    <published>2024-09-08T03:18:59.000Z</published>
    <updated>2024-09-08T03:37:03.778Z</updated>
    
    <content type="html"><![CDATA[<div id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <div class="hbe-input-container">  <input type="password" id="hbePass" placeholder="" />    <label for="hbePass">密码等级 0 ！！！</label>    <div class="bottom-line"></div>  </div>  <script id="hbeData" type="hbeData" data-hmacdigest="8c5dee4ef50d12eb6e7cea21f126d7d646042a42f867b14b3825d1e762e29909">c6e4b877a7c6e6995ee0d23c34ce2e7ecdb585ef4b0b20ad5e16c8ce71a31969b55f5e76ab7c69bffa605246f5bba274f5a72dcaf89ac0e51b9415b38a34588444266da71ddb0e9f7c91194dea795a12503cb4adae87a151386a7ac98605416c886f26828e0d0c59bd607310bf075274e323f757715f009d70781effe24c7cb4ae89fa06a0ba6ba361b00ee1c91aea6e6ed8b1cc4584093eeb05c5322aad9cd35a91b013e91dd3c2bd9aa22e9b6782a3d96ebec20752c0d7d597fe871d8977c65a5daae9be30de731cb4c6d7ee37a94507069bbc2f16abfa466f308eb986ab85bd4a4b78e6f079c197fdf079b9f58c1e9d153703cd85419dcafc7a8ee4e5df49ce19c1046603c2f93f8255d3c3a8bf810ef17e09473c9dc6cddd4a103fd176071a15a950c6fbd8b271cd1fae329d255020ffa22a73ba4a11e794e565d0dcc4411364cea98cbd0ef457a55727d4d01acf2a4ea2740104e71c6319dab6f87bdcf88665789bc6e0c8a01f0e386776e525b7</script></div><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      密码等级 0
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/"/>
    
      <category term="插件" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/"/>
    
      <category term="Astra" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/WordPress/%E6%8F%92%E4%BB%B6/Astra/"/>
    
    
      <category term="WordPress" scheme="http://benpaodewoniu.github.io/tags/WordPress/"/>
    
  </entry>
  
  <entry>
    <title>nginx | 端口代理 websocket</title>
    <link href="http://benpaodewoniu.github.io/2024/08/14/nginx14/"/>
    <id>http://benpaodewoniu.github.io/2024/08/14/nginx14/</id>
    <published>2024-08-14T13:22:22.000Z</published>
    <updated>2024-08-14T13:24:10.516Z</updated>
    
    <content type="html"><![CDATA[<p>端口关联 <code>websocket</code>。</p><a id="more"></a><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">        <span class="attribute">server_name</span> <span class="regexp">websocket.*</span>*<span class="regexp">*.bond</span>;</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">443</span> ssl;</span><br><span class="line">        <span class="attribute">ssl_certificate</span> /root/https/fullchain.crt;</span><br><span class="line">        <span class="attribute">ssl_certificate_key</span> /root/https/private.pem;</span><br><span class="line">        <span class="attribute">location</span> / &#123;</span><br><span class="line">             <span class="attribute">proxy_pass</span> http://127.0.0.1:9999/;</span><br><span class="line">             <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">             <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">             <span class="attribute">proxy_set_header</span> Connection <span class="string">"Upgrade"</span>;</span><br><span class="line">       &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;端口关联 &lt;code&gt;websocket&lt;/code&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="网站设计" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="服务端" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/%E6%9C%8D%E5%8A%A1%E7%AB%AF/"/>
    
      <category term="nginx" scheme="http://benpaodewoniu.github.io/categories/%E7%BD%91%E7%AB%99%E8%AE%BE%E8%AE%A1/%E6%9C%8D%E5%8A%A1%E7%AB%AF/nginx/"/>
    
    
      <category term="nginx" scheme="http://benpaodewoniu.github.io/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>thlm | 转换合约</title>
    <link href="http://benpaodewoniu.github.io/2024/08/05/thlm11/"/>
    <id>http://benpaodewoniu.github.io/2024/08/05/thlm11/</id>
    <published>2024-08-05T15:17:04.000Z</published>
    <updated>2024-08-09T08:25:06.412Z</updated>
    
    <content type="html"><![CDATA[<p>新转换合约代码。</p><a id="more"></a><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: MIT</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span>.<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">import &#123;Ownable&#125; from <span class="string">"@openzeppelin/contracts/access/Ownable.sol"</span>;</span><br><span class="line"></span><br><span class="line">interface IERC20 &#123;</span><br><span class="line">    <span class="keyword">function</span> balance<span class="constructor">Of(<span class="params">address</span> <span class="params">account</span>)</span> external view returns (uint256);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> transfer<span class="constructor">From(<span class="params">address</span> <span class="params">from</span>, <span class="params">address</span> <span class="params">to</span>, <span class="params">uint256</span> <span class="params">value</span>)</span> external returns (<span class="built_in">bool</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> transfer(address <span class="keyword">to</span>, uint256 value) external returns (<span class="built_in">bool</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> burn(uint256 value) external;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">contract THLM2GAME is Ownable &#123;</span><br><span class="line"></span><br><span class="line">event <span class="constructor">Exchange(<span class="params">address</span> <span class="params">indexed</span> <span class="params">from</span>, <span class="params">uint256</span> <span class="params">value</span>)</span>;</span><br><span class="line">    </span><br><span class="line">    address public THLM = <span class="number">0x4b94c8567763654101F690Cf4d54957206383b75</span>;</span><br><span class="line">    address public GAME = <span class="number">0x4b94c8567763654101F690Cf4d54957206383b75</span>;</span><br><span class="line"></span><br><span class="line">    constructor(address initialOwner) <span class="constructor">Ownable(<span class="params">initialOwner</span>)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> exchange<span class="literal">()</span> external &#123;</span><br><span class="line">      uint256 balance = <span class="constructor">IERC20(THLM)</span>.balance<span class="constructor">Of(<span class="params">msg</span>.<span class="params">sender</span>)</span>;</span><br><span class="line">      <span class="constructor">IERC20(THLM)</span>.transfer<span class="constructor">From(<span class="params">msg</span>.<span class="params">sender</span>, <span class="params">address</span>(<span class="params">this</span>)</span>, balance);</span><br><span class="line">      <span class="constructor">IERC20(GAME)</span>.transfer(msg.sender, balance);</span><br><span class="line"></span><br><span class="line">      emit <span class="constructor">Exchange(<span class="params">msg</span>.<span class="params">sender</span>, <span class="params">balance</span>)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> burn(<span class="built_in">bool</span> flag) external only<span class="constructor">Owner()</span>&#123;</span><br><span class="line">      address erc20 = flag ? GAME : THLM;</span><br><span class="line">      uint256 balance = <span class="constructor">IERC20(<span class="params">erc20</span>)</span>.balance<span class="constructor">Of(<span class="params">address</span>(<span class="params">this</span>)</span>);</span><br><span class="line">      <span class="constructor">IERC20(<span class="params">erc20</span>)</span>.burn(balance);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;新转换合约代码。&lt;/p&gt;
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="中型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/"/>
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/"/>
    
      <category term="代币转换" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/%E4%BB%A3%E5%B8%81%E8%BD%AC%E6%8D%A2/"/>
    
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/tags/thlm/"/>
    
  </entry>
  
  <entry>
    <title>thlm | 代币合约</title>
    <link href="http://benpaodewoniu.github.io/2024/08/05/thlm10/"/>
    <id>http://benpaodewoniu.github.io/2024/08/05/thlm10/</id>
    <published>2024-08-05T14:56:45.000Z</published>
    <updated>2024-08-09T08:24:43.756Z</updated>
    
    <content type="html"><![CDATA[<p>新代币合约代码。</p><a id="more"></a><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SPDX-License-Identifier: MIT</span></span><br><span class="line">pragma solidity ^<span class="number">0.8</span>.<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">import &#123;ERC20&#125; from <span class="string">"@openzeppelin/contracts/token/ERC20/ERC20.sol"</span>;</span><br><span class="line">import &#123;Ownable&#125; from <span class="string">"@openzeppelin/contracts/access/Ownable.sol"</span>;</span><br><span class="line"></span><br><span class="line">contract GAME is ERC20, Ownable &#123;</span><br><span class="line">    constructor(</span><br><span class="line">        address convert</span><br><span class="line">    ) <span class="constructor">ERC20(<span class="string">"GAME Token"</span>, <span class="string">"GAME"</span>)</span> <span class="constructor">Ownable(<span class="params">msg</span>.<span class="params">sender</span>)</span> &#123;</span><br><span class="line">        <span class="constructor">_mint(<span class="params">convert</span>, 100_000_000_000 <span class="operator">*</span> 10 <span class="operator">**</span> 18)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> burn(uint256 value) external &#123;</span><br><span class="line">        <span class="constructor">_burn(<span class="params">_msgSender</span>()</span>, value);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;新代币合约代码。&lt;/p&gt;
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="中型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/"/>
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/"/>
    
      <category term="代币转换" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/%E4%BB%A3%E5%B8%81%E8%BD%AC%E6%8D%A2/"/>
    
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/tags/thlm/"/>
    
  </entry>
  
  <entry>
    <title>thlm | 质押合约</title>
    <link href="http://benpaodewoniu.github.io/2024/08/04/thlm9/"/>
    <id>http://benpaodewoniu.github.io/2024/08/04/thlm9/</id>
    <published>2024-08-04T12:16:55.000Z</published>
    <updated>2024-08-09T08:24:00.873Z</updated>
    
    <content type="html"><![CDATA[<p>新质押合约代码。</p><a id="more"></a><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;Ownable&#125; <span class="keyword">from</span> "@openzeppelin/contracts/access/Ownable.sol";</span><br><span class="line"><span class="keyword">import</span> &#123;Pausable&#125; <span class="keyword">from</span> "@openzeppelin/contracts/security/Pausable.sol";</span><br><span class="line"><span class="keyword">import</span> &#123;ReentrancyGuard&#125; <span class="keyword">from</span> "@openzeppelin/contracts/security/ReentrancyGuard.sol";</span><br><span class="line"><span class="keyword">import</span> &#123;IERC20&#125; <span class="keyword">from</span> "@openzeppelin/contracts/token/ERC20/IERC20.sol";</span><br><span class="line"></span><br><span class="line">contract GameMember <span class="keyword">is</span> Ownable, Pausable, ReentrancyGuard &#123;</span><br><span class="line"></span><br><span class="line">    address <span class="built_in">public</span> daoAddress;</span><br><span class="line">    address <span class="built_in">public</span> GAMETokenAddress;</span><br><span class="line">    address <span class="built_in">public</span> RecordOwner;</span><br><span class="line">    uint256 <span class="built_in">public</span> deductionPercent;</span><br><span class="line">    <span class="type">bool</span> <span class="built_in">public</span> emergencyUnstakeFlag;</span><br><span class="line"></span><br><span class="line">    struct StakeInfo &#123;</span><br><span class="line">        uint256 stakeLevel;</span><br><span class="line">        uint256 stakeAmount;</span><br><span class="line">        uint256 stakeTimestamp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mapping</span>(address =&gt; StakeInfo) <span class="type">internal</span> _stakeRecords;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">mapping</span>(uint256 <span class="comment">/* level */</span> =&gt; uint256 <span class="comment">/* time */</span>) <span class="type">internal</span> _stakeLevels;</span><br><span class="line"></span><br><span class="line">    event GameStake(address <span class="keyword">user</span>, uint256 oldLevel, uint256 newLevel, uint256 oldStakeAmount, uint256 newStakeAmount,</span><br><span class="line">                    uint256 oldStakeTimestamp,uint256 newStakeTimestamp,</span><br><span class="line">                    uint256 oldUnstakeTimestamp, uint256 newUnstakeTimestamp);</span><br><span class="line"></span><br><span class="line">    event GameUnstake(address <span class="keyword">user</span>, uint256 <span class="keyword">level</span>, uint256 unstakeAmount, uint256 userGetAmount, uint256 unstakeTimestamp);</span><br><span class="line">    event GameRecordStake(address <span class="keyword">user</span>, uint256 <span class="keyword">level</span>,uint256 stakeAmount, uint256 stakeTimestamp);</span><br><span class="line"></span><br><span class="line">    event LevelUpdated(uint256 <span class="keyword">level</span>, uint256 stakeTime);</span><br><span class="line"></span><br><span class="line">    modifier onlyEOA() &#123;</span><br><span class="line">        require(msg.sender.code.length == <span class="number">0</span>, "only EOA");</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    modifier onlyRecordOwner() &#123;</span><br><span class="line">        require(msg.sender == RecordOwner, "only RecordOwner");</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    constructor(address ownerAddress,address RecordOwner_,address THMLTokenAddress_, address daoAddress_) Ownable(ownerAddress) &#123;</span><br><span class="line">        GAMETokenAddress = THMLTokenAddress_;</span><br><span class="line">        RecordOwner = RecordOwner_;</span><br><span class="line">        daoAddress = daoAddress_;</span><br><span class="line"></span><br><span class="line">        emergencyUnstakeFlag = <span class="keyword">false</span>;</span><br><span class="line">        deductionPercent = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        _stakeLevels[<span class="number">1</span>] = <span class="number">1</span>; // <span class="number">1</span> second</span><br><span class="line">        _stakeLevels[<span class="number">2</span>] = <span class="number">30</span> days;</span><br><span class="line">        _stakeLevels[<span class="number">3</span>] = <span class="number">90</span> days;</span><br><span class="line">        _stakeLevels[<span class="number">4</span>] = <span class="number">180</span> days;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> updateDeductionPercent(uint256 percent) <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        require(percent &gt;= <span class="number">0</span> &amp;&amp; percent &lt;= <span class="number">100</span>, "percent must be between 0 and 100");</span><br><span class="line">        deductionPercent = percent;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> updateEmergeceUnstakeFlag(<span class="type">bool</span> flag) <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        emergencyUnstakeFlag = flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> updateDaoAddress(address daoAddress_) <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        daoAddress = daoAddress_;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 初始设置如下：</span></span><br><span class="line"><span class="comment">        _stakeLevels[1] = 1; // 1 秒 , 活期</span></span><br><span class="line"><span class="comment">        _stakeLevels[2] = 30 days;</span></span><br><span class="line"><span class="comment">        _stakeLevels[3] = 90 days;</span></span><br><span class="line"><span class="comment">        _stakeLevels[4] = 180 days;</span></span><br><span class="line"><span class="comment">        设置时，需要满足level 越大， 时间越长的规则</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">function</span> updateStakeLevelInfo(uint256 <span class="keyword">level</span>, uint256 <span class="type">time</span>) <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        require(<span class="type">time</span> &gt; <span class="number">0</span>, "time must be greater than 0");</span><br><span class="line">        _stakeLevels[<span class="keyword">level</span>] = <span class="type">time</span>;</span><br><span class="line">        emit LevelUpdated(<span class="keyword">level</span>, <span class="type">time</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> getUserStakeInfo(address <span class="keyword">user</span>) <span class="built_in">public</span> <span class="keyword">view</span> <span class="keyword">returns</span>(StakeInfo memory) &#123;</span><br><span class="line">        StakeInfo memory stakeRecord = _stakeRecords[<span class="keyword">user</span>];</span><br><span class="line">        <span class="keyword">return</span> stakeRecord;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> getUnstakeTime(uint256 stakeTime, uint256 <span class="keyword">level</span>) <span class="built_in">public</span> <span class="keyword">view</span> <span class="keyword">returns</span>(uint256) &#123;        </span><br><span class="line">        <span class="keyword">return</span> stakeTime + _stakeLevels[<span class="keyword">level</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> getStakeTime(uint256 <span class="keyword">level</span>) <span class="built_in">public</span> <span class="keyword">view</span> <span class="keyword">returns</span>(uint256) &#123;</span><br><span class="line">        <span class="keyword">return</span> _stakeLevels[<span class="keyword">level</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> pause() <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        _pause();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> unpause() <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        _unpause();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> RecordStake(address[] memory recordAddress,StakeInfo[] memory recordInfos) <span class="built_in">public</span> onlyRecordOwner&#123;</span><br><span class="line">        <span class="keyword">for</span> (uint256 i = <span class="number">0</span>; i &lt; recordAddress.length; i++) &#123;</span><br><span class="line">            StakeInfo memory stakeRecord = recordInfos[i];</span><br><span class="line">            _stakeRecords[recordAddress[i]] = stakeRecord;</span><br><span class="line">            emit GameRecordStake(recordAddress[i],stakeRecord.stakeLevel,stakeRecord.stakeAmount,stakeRecord.stakeTimestamp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> renounceRecordOwner() <span class="built_in">public</span> onlyRecordOwner &#123;</span><br><span class="line">        RecordOwner = address(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> stake(uint256 <span class="keyword">level</span>, uint256 amount) <span class="built_in">public</span> nonReentrant whenNotPaused onlyEOA &#123;</span><br><span class="line">        require(_stakeLevels[<span class="keyword">level</span>] &gt; <span class="number">0</span>, "invalid level");</span><br><span class="line"></span><br><span class="line">        StakeInfo <span class="keyword">storage</span> stakeRecord = _stakeRecords[msg.sender];</span><br><span class="line">        uint256 oldLevel = stakeRecord.stakeLevel;</span><br><span class="line">        uint256 oldAmount = stakeRecord.stakeAmount;</span><br><span class="line">        uint256 oldStakeTimestamp = stakeRecord.stakeTimestamp;</span><br><span class="line">        uint256 oldUnstakeTimestamp = getUnstakeTime(stakeRecord.stakeTimestamp, stakeRecord.stakeLevel);</span><br><span class="line">        <span class="keyword">if</span>(oldUnstakeTimestamp &gt; block.timestamp) &#123;</span><br><span class="line">            require(<span class="keyword">level</span> &gt;= stakeRecord.stakeLevel, "new level shoule be greater than or equal to current level");</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">level</span> &gt; stakeRecord.stakeLevel) &#123;</span><br><span class="line">                stakeRecord.stakeTimestamp = block.timestamp;</span><br><span class="line">                stakeRecord.stakeLevel = <span class="keyword">level</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            stakeRecord.stakeAmount += amount;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            stakeRecord.stakeAmount += amount;</span><br><span class="line">            stakeRecord.stakeLevel = <span class="keyword">level</span>;</span><br><span class="line">            stakeRecord.stakeTimestamp = block.timestamp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(amount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            IERC20(GAMETokenAddress).transferFrom(msg.sender, address(this), amount);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        uint256 newUnstakeTimestamp = getUnstakeTime(stakeRecord.stakeTimestamp, stakeRecord.stakeLevel);</span><br><span class="line">        emit GameStake(msg.sender, oldLevel, <span class="keyword">level</span>, oldAmount, stakeRecord.stakeAmount, </span><br><span class="line">            oldStakeTimestamp, stakeRecord.stakeTimestamp,</span><br><span class="line">            oldUnstakeTimestamp,newUnstakeTimestamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> queryUnstake(address <span class="keyword">user</span>) <span class="built_in">public</span> <span class="keyword">view</span> <span class="keyword">returns</span>(uint256 userGetAmount, uint256 userLostAmount) &#123;</span><br><span class="line">        StakeInfo memory stakeRecord = _stakeRecords[<span class="keyword">user</span>];</span><br><span class="line">        uint256 unstatkeAmount = stakeRecord.stakeAmount;</span><br><span class="line">        userGetAmount = unstatkeAmount;</span><br><span class="line">        userLostAmount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(stakeRecord.stakeAmount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            uint256 unstakeTimestamp = getUnstakeTime(stakeRecord.stakeTimestamp, stakeRecord.stakeLevel);</span><br><span class="line">            <span class="keyword">if</span>( unstakeTimestamp &gt; block.timestamp) &#123;</span><br><span class="line">                uint256 leftTime = unstakeTimestamp - block.timestamp;</span><br><span class="line">                uint256 maxStakeTime =  _stakeLevels[stakeRecord.stakeLevel];</span><br><span class="line">                <span class="keyword">if</span>(leftTime &gt; maxStakeTime) &#123;</span><br><span class="line">                    leftTime = maxStakeTime;</span><br><span class="line">                &#125;</span><br><span class="line">                userLostAmount = unstatkeAmount * deductionPercent  * leftTime /(maxStakeTime * <span class="number">100</span>);</span><br><span class="line">                userGetAmount = unstatkeAmount - userLostAmount;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> unstake() <span class="built_in">public</span> nonReentrant whenNotPaused &#123;</span><br><span class="line">        StakeInfo <span class="keyword">storage</span> stakeRecord = _stakeRecords[msg.sender];</span><br><span class="line">        uint256 unstatkeAmount = stakeRecord.stakeAmount;</span><br><span class="line">        require(stakeRecord.stakeAmount &gt; <span class="number">0</span>, "not stake yet");</span><br><span class="line">        (uint256 userGetAmount, uint256 userLostAmount) = queryUnstake(msg.sender);        </span><br><span class="line">        IERC20(GAMETokenAddress).transfer(msg.sender, userGetAmount);</span><br><span class="line">        <span class="keyword">if</span>(userLostAmount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            IERC20(GAMETokenAddress).transfer(daoAddress, userLostAmount);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        stakeRecord.stakeAmount = <span class="number">0</span>;</span><br><span class="line">        stakeRecord.stakeTimestamp = <span class="number">0</span>;</span><br><span class="line">        emit GameUnstake(msg.sender, stakeRecord.stakeLevel, unstatkeAmount, userGetAmount, block.timestamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *  紧急情况下，管理员可以通过修改设置，让用户可以提取所有的资金</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> emergencyUnstake() <span class="built_in">public</span> nonReentrant whenNotPaused &#123;</span><br><span class="line">        require(emergencyUnstakeFlag, "emergency unstake is not allowed");</span><br><span class="line">        </span><br><span class="line">        StakeInfo <span class="keyword">storage</span> stakeRecord = _stakeRecords[msg.sender];</span><br><span class="line">        uint256 unstatkeAmount = stakeRecord.stakeAmount;</span><br><span class="line">        uint256 userGetAmount = unstatkeAmount;</span><br><span class="line">        require(stakeRecord.stakeAmount &gt; <span class="number">0</span>, "not stake yet");</span><br><span class="line">        </span><br><span class="line">        IERC20(GAMETokenAddress).transfer(msg.sender, unstatkeAmount);</span><br><span class="line">        stakeRecord.stakeAmount = <span class="number">0</span>;</span><br><span class="line">        stakeRecord.stakeTimestamp = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">        emit GameUnstake(msg.sender, stakeRecord.stakeLevel, unstatkeAmount, userGetAmount, block.timestamp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;新质押合约代码。&lt;/p&gt;
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="中型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/"/>
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/"/>
    
      <category term="代币转换" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/%E4%BB%A3%E5%B8%81%E8%BD%AC%E6%8D%A2/"/>
    
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/tags/thlm/"/>
    
  </entry>
  
  <entry>
    <title>thlm | 空投合约</title>
    <link href="http://benpaodewoniu.github.io/2024/08/04/thlm8/"/>
    <id>http://benpaodewoniu.github.io/2024/08/04/thlm8/</id>
    <published>2024-08-04T07:53:47.000Z</published>
    <updated>2024-08-09T08:23:39.376Z</updated>
    
    <content type="html"><![CDATA[<p>新空投合约代码。</p><a id="more"></a><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">// SPDX-License-Identifier: MIT</span><br><span class="line">pragma solidity ^<span class="number">0.8</span><span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;Ownable&#125; <span class="keyword">from</span> "@openzeppelin/contracts/access/Ownable.sol";</span><br><span class="line"><span class="keyword">import</span> &#123;Pausable&#125; <span class="keyword">from</span> "@openzeppelin/contracts/security/Pausable.sol";</span><br><span class="line"><span class="keyword">import</span> &#123;ReentrancyGuard&#125; <span class="keyword">from</span> "@openzeppelin/contracts/security/ReentrancyGuard.sol";</span><br><span class="line"><span class="keyword">import</span> &#123;IERC20&#125; <span class="keyword">from</span> "@openzeppelin/contracts/token/ERC20/IERC20.sol";</span><br><span class="line"></span><br><span class="line">contract GameAirdrop <span class="keyword">is</span> Ownable, Pausable, ReentrancyGuard &#123;</span><br><span class="line"></span><br><span class="line">    address <span class="built_in">public</span> GAMETokenAddress;</span><br><span class="line">    address <span class="built_in">public</span> RecordOwner;</span><br><span class="line">    <span class="type">bool</span> <span class="built_in">public</span> emergencyUnstakeFlag;</span><br><span class="line"></span><br><span class="line">    struct StakeInfo &#123;</span><br><span class="line">        uint256 stakeAmount;</span><br><span class="line">        uint256 unstakeTimestamp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mapping</span>(address =&gt; StakeInfo) <span class="type">internal</span> _stakeRecords;</span><br><span class="line">  </span><br><span class="line">    uint256 <span class="type">internal</span> _stakeTimestamp = <span class="number">2</span> * <span class="number">365</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">    event GameStake(address <span class="keyword">user</span>, uint256 oldStakeAmount,uint256 newStakeAmount, uint256 oldUnstakeTimestamp,uint256 newUnstakeTimestamp);</span><br><span class="line"></span><br><span class="line">    event GameUnstake(address <span class="keyword">user</span>, uint256 unstakeAmount, uint256 unstakeTimestamp);</span><br><span class="line"></span><br><span class="line">    event GameRecordStake(address <span class="keyword">user</span>, uint256 stakeAmount, uint256 unstakeTimestamp);</span><br><span class="line"></span><br><span class="line">    modifier onlyEOA() &#123;</span><br><span class="line">        require(msg.sender.code.length == <span class="number">0</span>, "only EOA");</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    modifier onlyRecordOwner() &#123;</span><br><span class="line">        require(msg.sender == RecordOwner, "only RecordOwner");</span><br><span class="line">        _;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    constructor(address ownerAddress,address RecordOwner_,address GameTokenAddress_) Ownable(ownerAddress) &#123;</span><br><span class="line">        GAMETokenAddress = GameTokenAddress_;</span><br><span class="line">        RecordOwner = RecordOwner_;</span><br><span class="line">        emergencyUnstakeFlag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">function</span> updateEmergeceUnstakeFlag(<span class="type">bool</span> flag) <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        emergencyUnstakeFlag = flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> getUserStakeInfo(address <span class="keyword">user</span>) <span class="built_in">public</span> <span class="keyword">view</span> <span class="keyword">returns</span>(StakeInfo memory) &#123;</span><br><span class="line">        StakeInfo memory stakeRecord = _stakeRecords[<span class="keyword">user</span>];</span><br><span class="line">        <span class="keyword">return</span> stakeRecord;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> pause() <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        _pause();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> unpause() <span class="built_in">public</span> onlyOwner &#123;</span><br><span class="line">        _unpause();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> RecordStake(address[] memory recordAddress,StakeInfo[] memory recordInfos) <span class="built_in">public</span> onlyRecordOwner&#123;</span><br><span class="line">        <span class="keyword">for</span> (uint256 i = <span class="number">0</span>; i &lt; recordAddress.length; i++) &#123;</span><br><span class="line">            StakeInfo memory stakeRecord = recordInfos[i];</span><br><span class="line">            _stakeRecords[recordAddress[i]] = stakeRecord;</span><br><span class="line">            emit GameRecordStake(recordAddress[i],stakeRecord.stakeAmount,stakeRecord.unstakeTimestamp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> renounceRecordOwner() <span class="built_in">public</span> onlyRecordOwner &#123;</span><br><span class="line">        RecordOwner = address(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> stake(uint256 amount) <span class="built_in">public</span> nonReentrant whenNotPaused onlyEOA &#123;</span><br><span class="line"></span><br><span class="line">        StakeInfo <span class="keyword">storage</span> stakeRecord = _stakeRecords[msg.sender];</span><br><span class="line">        uint256 oldAmount = stakeRecord.stakeAmount;</span><br><span class="line">        uint256 oldUnstakeTimestamp = stakeRecord.unstakeTimestamp;</span><br><span class="line">        uint256 newUnstakeTimestamp = block.timestamp + _stakeTimestamp;</span><br><span class="line">        require(amount &gt; <span class="number">0</span>, "invalid amount");</span><br><span class="line">        IERC20(GAMETokenAddress).transferFrom(msg.sender, address(this), amount);</span><br><span class="line">        stakeRecord.stakeAmount += amount;</span><br><span class="line">        stakeRecord.unstakeTimestamp = newUnstakeTimestamp;</span><br><span class="line">        emit GameStake(msg.sender, oldAmount, stakeRecord.stakeAmount, </span><br><span class="line">            oldUnstakeTimestamp, stakeRecord.unstakeTimestamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> queryUnstake(address <span class="keyword">user</span>) <span class="built_in">public</span> <span class="keyword">view</span> <span class="keyword">returns</span>(uint256 userAmount, uint256 unstakeTimestamp) &#123;</span><br><span class="line">        StakeInfo memory stakeRecord = _stakeRecords[<span class="keyword">user</span>];</span><br><span class="line">        userAmount = stakeRecord.stakeAmount;</span><br><span class="line">        unstakeTimestamp = stakeRecord.unstakeTimestamp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> unstake() <span class="built_in">public</span> nonReentrant whenNotPaused &#123;</span><br><span class="line">        StakeInfo <span class="keyword">storage</span> stakeRecord = _stakeRecords[msg.sender];</span><br><span class="line">        uint256 unstakeAmount = stakeRecord.stakeAmount;</span><br><span class="line">        require(stakeRecord.stakeAmount &gt; <span class="number">0</span>, "not stake yet");</span><br><span class="line">        require(block.timestamp &gt; stakeRecord.unstakeTimestamp, "invalid timestamp");</span><br><span class="line">        IERC20(GAMETokenAddress).transfer(msg.sender, unstakeAmount);</span><br><span class="line">        stakeRecord.stakeAmount = <span class="number">0</span>;</span><br><span class="line">        stakeRecord.unstakeTimestamp = <span class="number">0</span>;</span><br><span class="line">        emit GameUnstake(msg.sender, unstakeAmount, block.timestamp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *  紧急情况下，管理员可以通过修改设置，让用户可以提取所有的资金</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> emergencyUnstake() <span class="built_in">public</span> nonReentrant whenNotPaused &#123;</span><br><span class="line">        require(emergencyUnstakeFlag, "emergency unstake is not allowed");</span><br><span class="line">        </span><br><span class="line">        StakeInfo <span class="keyword">storage</span> stakeRecord = _stakeRecords[msg.sender];</span><br><span class="line">        uint256 unstakeAmount = stakeRecord.stakeAmount;</span><br><span class="line">        require(stakeRecord.stakeAmount &gt; <span class="number">0</span>, "not stake yet");</span><br><span class="line">        </span><br><span class="line">        IERC20(GAMETokenAddress).transfer(msg.sender, unstakeAmount);</span><br><span class="line">        stakeRecord.stakeAmount = <span class="number">0</span>;</span><br><span class="line">        stakeRecord.unstakeTimestamp = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">        emit GameUnstake(msg.sender, unstakeAmount, block.timestamp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;新空投合约代码。&lt;/p&gt;
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="中型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/"/>
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/"/>
    
      <category term="代币转换" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/%E4%BB%A3%E5%B8%81%E8%BD%AC%E6%8D%A2/"/>
    
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/tags/thlm/"/>
    
  </entry>
  
  <entry>
    <title>thlm | 生态、办公以及交流</title>
    <link href="http://benpaodewoniu.github.io/2024/07/31/thlm7/"/>
    <id>http://benpaodewoniu.github.io/2024/07/31/thlm7/</id>
    <published>2024-07-30T16:38:11.000Z</published>
    <updated>2024-08-10T14:34:38.078Z</updated>
    
    <content type="html"><![CDATA[<p>我们作为一个链游公会，不仅仅只是链游公会了，详细请看</p><ul><li><a href=""></a></li></ul><a id="more"></a><p>我们团队有 20 - 30 人，都是兼职，每个人在现实中都有自己的工作，每个人的职位都不相同，有</p><ul><li>程序员</li><li>老板</li><li>学生</li><li>创业者</li><li>…</li></ul><p>等等，五花八门，如何让这些队伍中的人各司其职，并且，有效的管理公会成员以及项目合作，那么具体的应用就少不了。</p><p>我们用过很多种方案，我所介绍的这一种就是现在用的，已经非常稳定和有效了。可以复制拿来即用。</p><h2 id="社区交流——微信"><a href="#社区交流——微信" class="headerlink" title="社区交流——微信"></a>社区交流——微信</h2><p>现在交流工具有</p><ul><li>微信</li><li>TG</li><li>DC</li></ul><p>但是，对于话语圈的人来说，还是微信最好用（TG、DC 华语圈几乎没人愿意使用）。这里的微信主要用于</p><ul><li>社区交流</li></ul><p>所谓的社区又分为</p><ul><li>VIP 群</li><li>持币群</li><li>普通群</li><li>链游群</li></ul><h3 id="VIP-群"><a href="#VIP-群" class="headerlink" title="VIP 群"></a>VIP 群</h3><p>你可以理解为是一种小秘圈，这个主要是由团队的客服主动拉进群。</p><h3 id="持币群"><a href="#持币群" class="headerlink" title="持币群"></a>持币群</h3><p>我们公会有自己的 TOKEN 就是 THLM，如果你持有这个币达到一定的数量，就可以访问我们的持币网页的页面，连接自己的钱包，验证自己的持币数，就会得到一串代码。</p><p>然后加我们的微信小助手，把这个代码发给小助手，那么，小助手就会主动拉你进持币群。这一切都是主动的。</p><p>并且，小助手会定期进行扫描，会把不足门槛的人主动踢出去。</p><h3 id="普通群"><a href="#普通群" class="headerlink" title="普通群"></a>普通群</h3><p>就是简单的交流群，一般也不会说话。</p><h3 id="链游群"><a href="#链游群" class="headerlink" title="链游群"></a>链游群</h3><p>因为币圈交流几乎是项目制的，哪个项目火热大家就聊哪个项目，虽然，一个群里面可以聊多个项目，但是，这样很容易陷入信息杂乱。</p><p>所以，我们是一个项目建立一个群。</p><p>这里面有一个小技巧，如果一个项目群超过 200 人的话，就不能发二维码，只能通过主动拉人才行。</p><p>那么，你的群一旦超过 200 人就不能贴二维码了。</p><p>我们采用的方案是，建立一个中转群，使用草料二维码每隔 7 天更新一下入群二维码，然后这个中转群人数维持在很低的人数上。</p><p>首先，你通过扫码进群后，会收到小助手的欢迎语，欢迎语中，会告诉你要加一下客服，然后给予项目的编码，比如 1 代表什么，2 代表什么，加了客服后，给客服发相关的数字，客服就会拉你进入相关的群。</p><p>当然，每隔一段时间，中转群里面就会请人，让人数维持在很低的数目。</p><p>需要注意的是，微信相对其他平台，封号力度很大，要避免发链接，少做和项目无关的事情，遇到广告者要立马提了，不要存在一丝侥幸。</p><h2 id="项目运营——DC"><a href="#项目运营——DC" class="headerlink" title="项目运营——DC"></a>项目运营——DC</h2><p>头号联盟和项目方采取的是深度合作方式，包括</p><ul><li>自研自己的链游</li><li>代理他人的链游</li></ul><p>无论上述哪个方面，都需要有一个地方交流和记录。</p><p>如果微信侧重于交流和即时性的话，DC 就侧重于运营。</p><p>在 DC 中，你可以方便的为各种人群设立不同的角色，可以对不同角色的人赋予不同的权限，分发相应的奖励，甚至进行角色范围内的抽奖。</p><p>DC 的公告具备置顶性，当然，公告发布的第一信息源应该是 twitter，但是，twitter的发布应该是第一原则性，而，随着时间的进行，有的时候你需要贴各种链接</p><ul><li>NFT 市场链接</li><li>网站链接</li><li>…</li></ul><p>这个时候 twitter 并不能满足你的要求，但是，DC 却可以分频道来进行展示，通过频道禁言设置，你可以无障碍的更新上述细节。</p><p>另外，最关键的是，DC 是一个完美的 BUG 收集地。通过开票功能，DC 可以方便的将项目方和你拉入一个小的群组中，进行交流，一切私密，不公开，反应快速有记录。</p><h2 id="项目进展——TWITTER"><a href="#项目进展——TWITTER" class="headerlink" title="项目进展——TWITTER"></a>项目进展——TWITTER</h2><p>twitter 是项目的第一手信息，任何公告、更新以及合作都要在 twitter 上张贴。</p><p>twitter 几乎算是项目方的第一脸面，所以，转发数、view数、收藏数、留言数非常重要。</p><p>这方面，要么买量，要么建立自己的矩阵，要么和其他项目合作，要么进行各种营销，反正 twitter 非常非常重要。</p><h2 id="项目扩展——TG"><a href="#项目扩展——TG" class="headerlink" title="项目扩展——TG"></a>项目扩展——TG</h2><p>TG 最开始是一个私密交流圈子，但是，TG 的信息太杂了，华语圈的人交流其实有一定困难性，并且，TG 龙蛇混杂，并不是有效的信息传播渠道。</p><p>但是，现在的 TG 由于有了 TON 后，拥有了天然的流量池，但是，根据调查，TG 上华语的人口占比几乎可以忽略不计，大部分人都是东南亚、南美洲、拉美、西欧这些，比如</p><ul><li>乌克兰</li><li>俄罗斯</li><li>泰国</li><li>巴西</li><li>…</li></ul><p>等低收入人群，这部分人群就是币圈中低收入（国内GDP）人群。这部分人群如果一天能有 0.1 美金的收入，都愿意耗费时间去做。</p><p>而，TG 现在正在做小程序，那么，最优质的人群就是吸引上方的人来。</p><p>就是所谓的破圈，做数据。目前，TG 上的人群是世界上最好的人群。</p><ul><li>获客成本低</li><li>天然流量池</li><li>简单的开发</li></ul><h2 id="团队交流——LARK"><a href="#团队交流——LARK" class="headerlink" title="团队交流——LARK"></a>团队交流——LARK</h2><p>微信可以作为社区交流，但是，不能作为团队交流。</p><p>召开内部会议，编写文档，项目组内分组，这些都无法靠微信解决，并且，一个团队使用微信作为交流，那么势必会引入其他平台，比如要考虑</p><ul><li>文档怎么存</li><li>会议怎么召开</li><li>组织结构怎么体现</li></ul><p>而 LARK，也就是飞书的国际版，能完美的解决这个问题，和钉钉差不多，只不过，LARK 使用的是国外法律，对数据有要求的，使用这个办公工具绝对是可以的。</p><p>并且，也能把团队中的资料进行沉淀。</p><h2 id="生态数据——网站"><a href="#生态数据——网站" class="headerlink" title="生态数据——网站"></a>生态数据——网站</h2><p>除了上述的办公交流外，我们还需要对外沉淀项目信息或者自身信息。</p><p>而对外展示是具备多样性的，有的时候是链上数据，有的时候是攻略文章，这就要求必须自身建立平台，才能更好的展示数据，我们选择的是网站作为信息的载体。</p><h2 id="会议召开——lark、腾讯、space"><a href="#会议召开——lark、腾讯、space" class="headerlink" title="会议召开——lark、腾讯、space"></a>会议召开——lark、腾讯、space</h2>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我们作为一个链游公会，不仅仅只是链游公会了，详细请看&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;&quot;&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="项目经历" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/"/>
    
      <category term="中型" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/"/>
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/"/>
    
      <category term="其他" scheme="http://benpaodewoniu.github.io/categories/%E9%A1%B9%E7%9B%AE%E7%BB%8F%E5%8E%86/%E4%B8%AD%E5%9E%8B/thlm/%E5%85%B6%E4%BB%96/"/>
    
    
      <category term="thlm" scheme="http://benpaodewoniu.github.io/tags/thlm/"/>
    
  </entry>
  
</feed>
